<body>
  <header class="header">
    <h1 class="title">ANALYTICS</h1>
  </header>
  <div id="bg">
    <!-- Stats -->
    <div class="stats">
      <div class="box">
        <div id="drillTime">DRILL TIME</div>
        <div id="drillTimeValue">--</div>
      </div>
      <div class="box">
        <div id="distance">DISTANCE</div>
        <div id="distanceValue">--</div>
      </div>
      <div class="box">
        <div id="steps">STEPS</div>
        <div id="stepsValue">--</div>
      </div>
      <div class="box">
        <div id="athleticScore">ATHLETIC SCORE</div>
        <div id="athleticScoreValue">--</div>
      </div>
    </div>

    <!-- Video Section -->
    <div class="video-section">
      <div class="vid-chart">
        <!-- Preview video element (visible initially) -->
        <video id="uploaded-video" controls style="display: block;"></video>
        <!-- Canvas output for processed video (hidden initially) -->
        <canvas id="output_canvas" style="display: none;"></canvas>
      </div>
      <div class="chart-wrapper">
        <canvas id="myChart2"></canvas>
      </div>
      <!-- <label for="uploadDate">Set Upload Date (optional):</label>
      <input type="datetime-local" id="uploadDate" name="uploadDate"> -->
    </div>

    <div class="btns-container">
      <div>
        <input type="file" id="uploadButton" accept="video/*" hidden="">
        <label id="uploadvideo" for="uploadButton"
          class="button hover-animation click-animation hover-box-shadow">UPLOAD VIDEO</label>
      </div>


      <!-- Analyze button and replace buttons -->
      <div class="replacebtns">
        <div>
          <button class="button hover-animation click-animation hover-box-shadow" id="analyzeButton"
            type="button">ANALYZE VIDEO</button>
        </div>
        <!-- Analyzing indicator (hidden initially) -->
        <div id="analyzingIndicator">
          <span class="small-spinner"></span> Analyzing...
        </div>


        <!-- Button to start processed playback (revealed after analysis) -->
        <div class="playprocess .hover-animation .click-animation .hover-box-shadow">
          <button id="playProcessedButton" class="button hover-animation click-animation hover-box-shadow" type="button"
            controls>PLAY VIDEO</button>
        </div>
      </div>


      <div>
        <button class="button hover-animation click-animation hover-box-shadow" id="showMetrics" type="button">ALL
          METRICS</button>
      </div>
    </div>


    <!-- Stats Cards -->
    <div id="stats-container">
      <div class="card-container card-hover">
        <div class="card">
          <div class="card-face card-front">
            <div class="back-card-title-container">
              <div class="back-card-title">
                <span>TECHNIQUE</span>
              </div>
              <div class="outerlegendwrapper">
                <div></div>
                <div id="outerLegend"></div>
              </div>
            </div>
            <div>
              <canvas id="myChart"></canvas>
            </div>
            <div class="inner-legend-wrapper">
              <div id="innerLegend"></div>
            </div>
            <div class="description">
              <p>Description</p>
            </div>
          </div>
          <div class="card-face card-back">
            <div class="front-card-title">
              <span>TECHNIQUE</span>
            </div>
          </div>
        </div>
      </div>
      <div class="card-container card-hover">
        <div class="card">
          <div class="card-face card-front">
            <div class="progressBars">
              <div class="back-card-title">
                <span>SPEED & MOVEMENT</span>
              </div>
              <div class="card-metrics-container">
                <div class="slideContainer">
                  <div class="sliderHead">
                    <label for="speed" class="tooltip-label">TOP SPEED<span class="tooltip-text">The highest speed a
                        player
                        reaches. Measured in yards per second
                        (yd/sec)</span></label>
                    <div id="topSpeed">0</div>
                  </div>
                  <div class="progressWrapper">
                    <div class="progressFill" id="topSpeedBar"></div>
                  </div>
                  <!-- <progress id="speedValue" value="0" max="100"></progress> -->
                </div>
                <div class="slideContainer">
                  <div class="sliderHead">
                    <label for="acceleration" class="tooltip-label">PEAK
                      ACCELERATION<span class="tooltip-text">The fastest rate of speed increase during the session.
                        Measured in yards per
                        second squared (yd/s2)</span></label>
                    <div id="peakAcceleration">0</div>
                  </div>
                  <div class="progressWrapper">
                    <div class="progressFill" id="peakAccelerationBar"></div>
                  </div>
                </div>
                <div class="slideContainer">
                  <div class="sliderHead">
                    <label for="deceleration" class="tooltip-label">PEAK
                      DECELERATION<span class="tooltip-text">The fastest rate of slowing down during the session.
                        Measured in yards per
                        second squared (yd/s2)</span></label>
                    <div id="peakDeceleration">0</div>
                  </div>
                  <div class="progressWrapper">
                    <div class="progressFill" id="peakDecelerationBar"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="description">
              <p>Description</p>
            </div>
          </div>
          <div class="card-face card-back2">
            <div class="front-card-title">
              <span>SPEED &</span>
              <span>MOVEMENT</span>
            </div>
          </div>
        </div>
      </div>
      <div class="card-container card-hover">
        <div class="card">
          <div class="card-face card-front">
            <div class="progressBars">
              <div class="back-card-title">
                <span>FOOTWORK</span>
              </div>
              <div class="card-metrics-container">
                <div class="slideContainer">
                  <div class="sliderHead">
                    <label for="jumpHeight" class="tooltip-label">MAX
                      JUMP HEIGHT<span class="tooltip-text">The average height reached across all recorded jumps during
                        the session. Measured
                        in yards (yd).</span></label>
                    <div id="averageJumpHeight">0</div>
                  </div>
                  <div class="progressWrapper">
                    <div class="progressFill" id="averageJumpHeightBar"></div>
                  </div>
                </div>
                <div class="slideContainer">
                  <div class="sliderHead">
                    <label for="strideLength" class="tooltip-label">MAX
                      STRIDE LENGTH<span class="tooltip-text">The average distance covered in each step while running or
                        sprinting during the session. Measured in yards (yd).</span></label>
                    <div id="averageStrideLength">0</div>
                  </div>
                  <div class="progressWrapper">
                    <div class="progressFill" id="averageStrideLengthBar"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="description">
              <p>Description</p>
            </div>
          </div>
          <div class="card-face card-back3">
            <div class="front-card-title">
              <span>FOOTWORK</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Mediapipe (client-side only) -->
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/pose"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils"></script>

</body>