<body>
  <header class="header">
    <h1 class="title">ANALYTICS</h1>
  </header>
  <div id="bg" class=" parallax-bg">
    <!-- Stats -->
    <div class="stats">
      <div class="box">
        <div id="drillTime">DRILL TIME</div>
        <div id="drillTimeValue">--</div>
      </div>
      <div class="box">
        <div id="distance">DISTANCE</div>
        <div id="distanceValue">--</div>
      </div>
      <div class="box">
        <div id="steps">STEPS</div>
        <div id="stepsValue">--</div>
      </div>
      <div class="box">
        <div id="averageSpeed">AVERAGE SPEED</div>
        <div id="averageSpeedValue">--</div>
      </div>
    </div>

    <!-- Video Section -->
    <div class="video-section">
      <div class="vid-chart">
        <!-- Preview video element (visible initially) -->
        <video id="uploaded-video" controls></video>
        <div id="canvas-wrapper">
          <!-- Canvas output for processed video (hidden initially) -->
          <canvas id="output_canvas"></canvas>
        </div>
      </div>
      <div class="chart-wrapper">
        <div id="unifiedLegend" class="unified-legend"></div>
        <canvas id="myChart2"></canvas>
      </div>
      <!-- <label for="uploadDate">Set Upload Date (optional):</label>
      <input type="datetime-local" id="uploadDate" name="uploadDate"> -->
    </div>

    <div class="btns-container">
      <div>
        <input type="file" id="uploadButton" accept="video/*" hidden="">
        <label id="uploadvideo" for="uploadButton"
          class="button hover-animation click-animation hover-box-shadow">UPLOAD VIDEO</label>
      </div>


      <!-- Analyze button and replace buttons -->
      <div class="replacebtns">
        <div>
          <button class="button hover-animation click-animation hover-box-shadow" id="analyzeButton"
            type="button">ANALYZE VIDEO</button>
        </div>
        <!-- Analyzing indicator (hidden initially) -->
        <div id="analyzingIndicator">
          <span class="small-spinner"></span> Analyzing...
        </div>


        <!-- Button to start processed playback (revealed after analysis) -->
        <div class="playprocess .hover-animation .click-animation .hover-box-shadow">
          <button id="playProcessedButton" class="button hover-animation click-animation hover-box-shadow" type="button"
            disabled controls>PLAY VIDEO</button>
        </div>
      </div>


      <div>
        <button class="button hover-animation click-animation hover-box-shadow" id="showMetrics" type="button">ALL
          METRICS</button>
      </div>
    </div>


    <!-- Stats Cards -->
    <div id="cards-container">
      <div id="technique_card" class="card card-hover">
        <div class="card-inner">
          <div class="card-face card-front">
            <div class="front-card-title">
              <span>TECHNIQUE</span>
            </div>
          </div>
          <div class="card-face card-back">
            <div class="technique_card_content">
              <div class="back-card-title-container">
                <div class="back-card-title">
                  <span>TECHNIQUE</span>
                </div>
              </div>
              <div class="legends-wrapper">
                <div id="innerLegend"></div>
                <div id="outerLegend"></div>
              </div>
              <div class="donut-chart-wrapper">
                <div class="double-donut" id="doubleDonut">
                  <!-- Outer ring (Running / Standing / Crouching) -->
                  <div class="outer-ring"></div>

                  <!-- Inner ring (Head Up / Head Down) -->
                  <div class="inner-ring"></div>

                  <!-- Center label (we use Head Up %) -->
                  <div class="center-label" id="donutCenterLabel">--%</div>
                </div>
              </div>
            </div>
            <div class="description ai-video-wrap">
              <video class="ai-preview-video" preload="auto" autoplay muted loop playsinline>
                <source src="../../../public/assets/videos/Metrics_Card_Animation.mp4" type="video/mp4">
              </video>
              <div class="ai-video-text">AI coach insights coming soon</div>
            </div>
          </div>
        </div>
      </div>
      <div id="metrics_card" class="card card-hover">
        <div class="card-inner">
          <div class="card-face card-front">
            <div class="front-card-title">
              <span>SPEED &</span>
              <span>MOVEMENT</span>
            </div>
          </div>
          <div class="card-face card-back">
            <div class="progressBars">
              <div class="back-card-title">
                <span>SPEED & MOVEMENT</span>
              </div>
              <div class="card-metrics-container">
                <div class="slideContainer">
                  <div class="sliderHead">
                    <label for="speed" class="tooltip-label">TOP SPEED<span class="tooltip-text">The highest speed a
                        player
                        reaches. Measured in yards per second
                        (yd/sec)</span></label>
                    <div id="topSpeed">0</div>
                  </div>
                  <div class="progressWrapper">
                    <div class="progressFill" id="topSpeedBar"></div>
                  </div>
                  <!-- <progress id="speedValue" value="0" max="100"></progress> -->
                </div>
                <div class="slideContainer">
                  <div class="sliderHead">
                    <label for="acceleration" class="tooltip-label">PEAK
                      ACCELERATION<span class="tooltip-text">The fastest rate of speed increase during the session.
                        Measured in yards per
                        second squared (yd/s2)</span></label>
                    <div id="peakAcceleration">0</div>
                  </div>
                  <div class="progressWrapper">
                    <div class="progressFill" id="peakAccelerationBar"></div>
                  </div>
                </div>
                <div class="slideContainer">
                  <div class="sliderHead">
                    <label for="deceleration" class="tooltip-label">PEAK
                      DECELERATION<span class="tooltip-text">The fastest rate of slowing down during the session.
                        Measured in yards per
                        second squared (yd/s2)</span></label>
                    <div id="peakDeceleration">0</div>
                  </div>
                  <div class="progressWrapper">
                    <div class="progressFill" id="peakDecelerationBar"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="description ai-video-wrap">
              <video class="ai-preview-video" preload="auto" autoplay muted loop playsinline>
                <source src="../../../public/assets/videos/Metrics_Card_Animation.mp4" type="video/mp4">
              </video>
              <div class="ai-video-text">AI coach insights coming soon</div>
            </div>
          </div>
        </div>
      </div>
      <div id="footwork_card" class="card card-hover">
        <div class="card-inner">
          <div class="card-face card-front">
            <div class="front-card-title">
              <span>FOOTWORK</span>
            </div>
          </div>
          <div class="card-face card-back">
            <div class="progressBars">
              <div class="back-card-title">
                <span>FOOTWORK</span>
              </div>
              <div class="card-metrics-container">
                <div class="slideContainer">
                  <div class="sliderHead">
                    <label for="strideLength" class="tooltip-label">STEP FREQUENCY<span class="tooltip-text">The
                        average
                        number of steps/sec</span></label>
                    <div id="averageStrideLength">0</div>
                  </div>
                  <div class="progressWrapper">
                    <div class="progressFill" id="averageStrideLengthBar"></div>
                  </div>
                </div>
                <div class="slideContainer">
                  <div class="sliderHead">
                    <label for="jumpHeight" class="tooltip-label">MAX
                      JUMP HEIGHT<span class="tooltip-text">The maximum height reached across all recorded jumps
                        during
                        the session. Measured
                        in yards (yd).</span></label>
                    <div id="averageJumpHeight">0</div>
                  </div>
                  <div class="progressWrapper">
                    <div class="progressFill" id="averageJumpHeightBar"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="description ai-video-wrap">
              <video class="ai-preview-video" preload="auto" autoplay muted loop playsinline muted>
                <source src="../../../public/assets/videos/Metrics_Card_Animation.mp4" type="video/mp4">
              </video>
              <div class="ai-video-text">AI coach insights coming soon</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>