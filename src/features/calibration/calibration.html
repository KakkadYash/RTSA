<!-- Modal Popup -->
<div id="popupModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle"
  aria-hidden="true">
  <div class="modal-content" tabindex="-1">
    <div class="heading">
      <h2 id="modalTitle">Update Profile</h2>
      <button id="closeBtn" class="close-btn click-animation hover-animation" aria-label="Close modal">&times;</button>
    </div>

    <form id="popupProfileForm">
      <div>
        <label for="first_name">First Name:</label>
        <input type="text" id="first_name" name="first_name" required>
      </div>
      <div>
        <label for="last_name">Last Name:</label>
        <input type="text" id="last_name" name="last_name" required>
      </div>
      <div>
        <label for="age">Age:</label>
        <input type="number" id="popupAge" name="age" min="0" required>
      </div>
      <div>
        <label for="height_ft">Height (ft / in):</label>

        <div class="height-row">
          <select id="height_ft" aria-label="Height in feet" required>
            <option value="" disabled selected>Feet</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
          </select>

          <select id="height_in" aria-label="Height in inches" required>
            <option value="" disabled selected>Inches</option>
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
          </select>
        </div>

        <!-- keep backend the same: we'll fill this before submit -->
        <input type="hidden" id="height_cm" name="height_cm">
      </div>

      <div>
        <label for="sport">Sport:</label>
        <input type="text" id="sport" name="sport">
      </div>
      <div>
        <label for="fullBodyPic">Full Body Picture:</label>
        <input type="file" id="fullBodyPic" name="fullBodyPic" accept="image/*">
      </div>
      <button id="calibration" type="submit">Submit</button>
    </form>

    <div class="scan-preview hidden">
      <p id="scanStatus" class="scan-status hidden">üîç Scanning image...</p>
      <img id="fullBodyPreview" alt="Preview" />
      <div class="scan-overlay">
        <div class="scan-line"></div>
      </div>
    </div>

    <!-- ‚úÖ Overlay now OUTSIDE form -->
    <div id="calibrationOverlay" class="overlay hidden">
    </div>
  </div>
</div>