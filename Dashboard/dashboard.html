<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard</title>
  <link rel="main stylesheet" href="../index.css">
  <link rel="dashboard stylesheet" href="dashboard.css">
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/pose@0.5/pose.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation"></script>
</head>

<body class="sb-expanded">
  <!-- Side Bar -->
  <aside>
    <nav>
      <div class="logo-container">
        <a href="../Home/home.html"> 
            <img src="../assests/Reaction Technologies logo samples bw-02.png" alt="Company Logo" class="logo">
        </a>
      </div>
      <ul>
        <li>
          <div class="links">
            <a href="../profile.html">
              <span>PROFILE</span> <img src="../assests/arrow white rt.png" alt="Arrow" class="arrow">
            </a>
            <img src="../assests/white line rt.png" alt="Line" class="line"> 
          </div>
        </li>
        <li>
         <div class="links">
          <a href="#" class="active">
            <span>DASHBOARD</span> <img src="../assests/arrow white rt.png" alt="Arrow" class="arrow">
          </a>
          <img src="../assests/white line rt.png" alt="Line" class="line">
         </div>
        </li>
        <li>
          <div class="links">
            <a href="../analytics/a.html">
              <span>ANALYTICS</span> <img src="../assests/arrow white rt.png" alt="Arrow" class="arrow">
            </a>
            <img src="../assests/white line rt.png" alt="Line" class="line">
          </div>
        </li>
        <li>
            <div class="links">
                <a href="../analytics/history.html">
                <span>HISTORY</span> <img src="../assests/arrow white rt.png" alt="Arrow" class="arrow">
                </a>
                <img src="../assests/white line rt.png" alt="Line" class="line">
            </div>
        </li>
        <li>
          <div class="links">
            <a href="../Drill Catalog/drillCatalog.html">
              <span>DRILL CATALOG</span> <img src="../assests/arrow white rt.png" alt="Arrow" class="arrow">
            </a>
            <img src="../assests/white line rt.png" alt="Line" class="line">
          </div> 
        </li>
        <li>
          <div class="footer">
            <div class="socials">
              <div class="social-box">
                <a href="https://www.instagram.com/reactiontech/"><img src= "../assests/icons8-instagram-50.png" alt="insta" class="icons"></a>
              </div>
              <div class="social-box">
                <a href="https://www.facebook.com/ReactionTech/"><img src= "../assests/icons8-facebook-64.png" alt="facebook" class="icons"></a>
              </div>
              <div class="social-box">
                <a href=" https://www.linkedin.com/company/reaction-technologies/"><img src= "../assests/icons8-linkedin-50.png" alt="linkedin" class="icons"></a>
              </div>
            </div>
            <div class="logOut">
              <span id="logoutButton">LOG OUT</span>
            </div>
          </div>
        </li>
      </ul>
    </nav>
   </aside>

   <!-- Main Content -->
   <main>
    <header class="header">
      <h1 class="title">DASHBOARD</h1>
    </header>
    <div id="bg">
      <div class="hello">
        <span>HEY, <div id=nameInfo></div></span>
        <img src="../assests/white line rt.png" alt="Line" class="line">
      </div>
      <div class="userData">
        <div class="uploads">
          <div class="avatar">
            <img id="img-preview" alt="ProfilePic">
          </div>
          <div class="small-box">
            <div class="info">TOTAL UPLOADS : <div id=uploadCounter></div></div>
          </div>
        </div>
        <span>PERFORMANCE METRICS OVER TIME</span>
        <img src="../assests/white line rt.png" alt="Line" class="line2">
        <canvas id="myChart"></canvas>
      </div>
    </div>
   </main>
   
   <script src="dashboard.js"></script>
   <script src="../Profile/profile.js"></script>
   <script>
    const ctx = document.getElementById('myChart').getContext('2d');

    new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['3/15', '3/18', '3/25', '3/28'],
        datasets: [{
          label: 'Ideal Head Angle',
          data: [80, 60, 80, 90],
          borderColor: '#81DDE3',
          fill: false,
          tension: 0.3
        },
        {
          label: 'Top Speed',
          data: [40, 50, 80, 40],
          borderColor: '#3932F5',
          fill: false,
          tension: 0.3
        },
        {
          label: 'Average Athletic Score',
          data: [50, 70, 60, 70],
          borderColor: '#93D669',
          fill: false,
          tension: 0.3
        }],
        
      },
      options: {
        responsive: false,
        plugins: {
          legend: {
            display: true
          },
          title: {
            display: true,
            text: 'Progress Overview'
          }
        },
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });
  window.addEventListener("DOMContentLoaded", () => {
  const savedImage = localStorage.getItem("profilePic");
  const profilePicElement = document.getElementById("img-preview");

  if (savedImage) {
    profilePicElement.src = savedImage;
  } else {
    // Optionally set a fallback image
    profilePicElement.src = "./assests/profilepic.png";
  }
  });
  </script>
  <script src="../sp.js"></script>
</body>
</html>